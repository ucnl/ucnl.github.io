| ![logo](https://ucnl.github.io/documentation/sm_logo.png) |  |
| :---: | ---: |
| [www.unavlab.com](https://www.unavlab.com/) <br/> [support@unavlab.com](mailto:support@unavlab.com) | **uWAVE** - семейство устройств гидроакустической цифровой связи <br/> Краткое описание |
  
  
  
# Семейство устройств uWAVE <br/> Краткое описание

<div style="page-break-after: always;"></div>


## 1. Устройства семейства

Семейство **uWAVE** (_читается: "мю-вейв"_) специально разработано для приложений, крайне чувствительных к массе и габаритам и представлена на текущий момент 
тремя устройствами:

* [uWAVE](uWAVE_Specification_ru.md) - гидроакустический модем. Является самым маленьким в мире гидроакустическим модемом: его размер всего **Ф40х45** мм, 
а сухой вес не превышает 160 грамм. При таких параметрах  он позволяет передавать данные на дистанции более **1000** метров.
* [uWAVE Max](uWAVE_Max_Specification_ru.md) - гидроакустический модем. Усиленная версия базового устройства. За счет увеличенной гидроакустической антенны
и усилителя мощности позволяет передавать данные на дистанции более **3000** метров. Габариты при этом составляют **Ф62х65** мм, 
а сухой вес 360 грамм.
* [uWAVE USBL Modem](uWAVE_USBL_Modem_Specification_ru.md) - гидроакустический модем с функцией определения горизонтального угла прихода сигнала. 
Устройство снабжено фазированной антенной решеткой и встроенным инклинометром, что позволяет определять горизонтальное направление, 
с которого пришел сигнал от любых других устройств семейства **uWAVE**. Габариты [uWAVE USBL Modem](uWAVE_USBL_Modem_Specification_ru.md) **Ф64х128** мм, 
сухой вес устройства 440 грамм.

Все устройства в рамках семейства полностью совместимы акустически и имеют общий, [NMEA-подобный протокол](uWAVE_Protocol_Specification_ru.md) сопряжения.

## 2. Особенности акустического протокола и кодовые каналы
Акустический протокол передачи **uWAVE** реализует множественный доступ к среде с кодовым разделением (CDMA) и поддерживает 20 
изолирующих кодовых каналов. Любому устройству из семейства uWAVE могут быть настроены любые кодовые каналы для приема и передачи.

Изолирующий кодовый канал гарантирует, что данные, передаваемые в одном канале не будут приняты устройством, ведущим прием в любом 
другом кодовом канале. 

Все устройства семейства **uWAVE** могут одновременно вести прием только в одном кодовом канале.

## 3. Режимы работы устройств
Все устройства семейства могут работать в двух режимах, переключение между которыми осуществляется пользователем:
* Режим прозрачного канала
* Кодовый режим

Эти режимы определяют то, как модем воспринимает приходящие от управляющей системы данные:

### 3.1. Режим прозрачного канала
В режиме прозрачного канала устройства не анализируют приходящие от управляющей системы данные и без изменений транслируют их в 
гидроакустический канал, где они могут быть приняты любым устройством из семейства, ведущим прием в таком же кодовом канале, 
в каком производилась передача.

### 3.2. Командный режим
В командном режиме устройства анализируют приходящие от управляющей системы данные и взаимодействие с ними осуществляется в рамках 
очень простого [NMEA-подобного ASCII протокола](uWAVE_Protocol_Specification_ru.md).  
В этом режиме устройства позволяют передавать короткие кодовые запросы другим устройствам: запрашивать глубину, температуру, 
напряжение питания удаленного модема и передавать 8 пользовательских команд.  
Кодовые запросы имеют фиксированные длины запросных и ответных сигналов, что позволяет запрашивающей системе определять время 
распространения (и наклонную дальность) до запрашиваемой системы.

Удаленный модем принимает и обрабатывает кодовый запрос независимо от того, в каком режиме он находится, что снимает с пользовательской 
системы необходимость контролировать состояние удаленного модема.

Устройства [uWAVE USBL Modem](uWAVE_USBL_Modem_Specification_ru.md) позволяют определять горизонтальный угол 
прихода любого входящего сообщения от других устройств семейства **uWAVE**. В том числе и для пользовательских сообщений, передающихся в режиме прозрачного канала. 

## 4. Оснащение устройств
Все устройства семейства имеют встроенные датчики глубины и температуры, а также измеряют напряжение питания, устройства 
[uWAVE USBL Modem](uWAVE_USBL_Modem_Specification_ru.md) дополнительно имеют встроенные двухосевые инклинометры 
(измеряют углы крена и дифферента). пользователь может настроить выдачу этих данных в любых соотношениях или периодически, с заданной 
частотой (от 0.5 до 60 секунд) или тандемно - при поступлении любых данных от удаленных устройств.

Все устройства, будучи включенными на воздухе производят автоматическую калибровку датчика давления, что позволяет исключить ошибку 
определения глубины, связанную с изменениями атмосферного давления и дрейфом нуля сенсора. Для достижения максимально возможной для 
данной технологии точности, устройство позволяет задать адекватное значение ускорение свободного падения для места проведения работ 
(например, согласно модели WGS84 Gravity, исключив тем самым влияние его изменения от географической широты).

Все устройства рассчитаны на максимальную глубину погружения 300 метров.

## 5. Применение и интеграция

Все устройства семейства **uWAVE** сопрягаются с пользовательской системой при помощи физического интерфейса UART 3.3 В, и по умолчанию 
работают в режиме прозрачного канала. Для этого не требуется никакой дополнительной интеграции и настройки.

Для работы в командном режиме используется простой [NMEA-подобный ASCII протокол](uWAVE_Protocol_Specification_ru.md).

На нашем [GitHub](https://ucnl.github.com) представлены примеры с открытым исходным кодом для сопряжения устройств **uWAVE**:
* Библиотека [uWAVELib](https://github.com/ucnl/uWAVELib) (.NET)
* Демонстрационное ПО [uWAVE Host](https://github.com/ucnl/uWAVE_Host)
* Демонстрационный проект [uWAVE VLBL](https://github.com/ucnl/uWAVE_VLBL) - навигация на виртуальной длинной базе при помощи двух модемов [uWAVE]()
* Репозиторий с примерами работы модемов [uWAVE](uWAVE_Specification_ru.md) на платформе Arduino:
  * [Пример 1](https://github.com/ucnl/uWAVE_Arduino/blob/master/uWAVE_Example_1.ino) - Переход в командный режим, 
  запрос информации об устройстве, обновление настроек устройства, задание настроек выдачи параметров среды, запросы удаленному устройству
  * [Пример 2](https://github.com/ucnl/uWAVE_Arduino/blob/master/uWAVE_Example_2.ino) - Работа в прозрачном канале: простой терминал для передачи
  текстовых сообщений через гидроакустический канал
  * [Пример 3](https://github.com/ucnl/uWAVE_Arduino/blob/master/uWAVE_Example_1.ino) - Опорная точка виртуальной длинной базы. Анализирует
  RMC-сообщения от GNSS-приемника, запрашивает удаленный модем, пересылает по радиоканалу собственное местоположение и данные, полученные от
  удаленного модема, а также измеренную до него наклонную дальность.
  * [uMCPIno](https://github.com/AlekUnderwater/uMCPIno) - Протокол с грантированой доставкой и очередностью сообщений (реализации для Arduino, STM32 и .NET)
  
  
  
