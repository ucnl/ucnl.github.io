[Главная](/README_RU) ❯ [Гидроакустические навигационные и трекинговые системы](/navigation_and_tracking_systems_ru) ❯ **WAYU: Описание протокола сопряжения**

<div style="page-break-after: always;"></div>

| ![logo](/documentation/sm_logo.png) |  |
| :---: | ---: |
| [www.unavlab.com](https://www.unavlab.com/) <br/> [support@unavlab.com](mailto:support@unavlab.com) | **WAYU** - Гидроакустическая трекинговая система <br/> Описание протокола сопряжения |

# WAYU <br/> Протокол информационного сопряжения

<div style="page-break-after: always;"></div>

## Содержание

<div style="page-break-after: always;"></div>

## 1. Введение

Приложение [WAYU](https://github.com/ucnl/WAYU) может передавать навигационные данные во внешние системы двумя разными способами:

- **Первый** способ подразумевает **соединение через последовательный порт**. В этом случае приложение эмулирует протокол обычных GNSS-приемников (сообщения RMC и GGA), передавая во внешнюю систему вычисленное местоположение пингера.
- **Второй** способ реализуется при помощи **соединения по протоколу UDP**. В этом случае приложение передает полный набор навигационной информации, включая местоположения буев, состояние их встроенных источников питания.

Оба способа могут быть задействованы в любом порядке и сочетании.

## 2. Соединение по последовательному порту



## 3. Соединение по протоколу UDP

При данном способе приложение будет один раз в секунду отправлять через UDP-соединение ASCII-строку, где поля параметров разделены запятыми. 

Для задействования данного способа в настройках приложения необходимо установить галочку **Use UDP**, а в соответствующей группе элементов управления указать требуемый IP-адрес и номер порта.

Общий формат сообщения следующий:

'WAYU,sntID[,param_1[,param_N]]<CR><LF>'
  
- 'WAYU'  - идентификатор протокола
- 'sntID' - идентификатор сообщения
- 'param_1 ... param_N' - параметры, разделенные запятой
- '<CR><LF>' - символы перевода строки (0x0D 0x0A)

| № | Параметр | Формат данных | Единицы измерения | Диапазон |
| :--- | :--- | :--- | :--- | :--- |
| 1 | extGNSSLat | вещественное число | ° | -90 .. 90 |
| 2 | extGNSSLon | вещественное число | ° | -180 .. 180 |
| 3 | extGNSSFixAge | вещественное число | сек | >= 0 |
| 4 | b1Lat | вещественное число | ° | -90 .. 90 |
| 5 | b1Lon | вещественное число | ° | -180 .. 180 |
| 6 | b1BatState | логическое значение | | true, false |
| 7 | b1DataAge | вещественное число | сек | >= 0 |
| 8 | b2Lat | вещественное число | ° | -90 .. 90 |
| 9 | b2Lon | вещественное число | ° | -180 .. 180 |
| 10 | b2BatState | логическое значение | | true, false |
| 11 | b2DataAge | вещественное число | сек | >= 0 |
| 12 | b3Lat | вещественное число | ° | -90 .. 90 |
| 13 | b3Lon | вещественное число | ° | -180 .. 180 |
| 14 | b3BatState | логическое значение | | true, false |
| 15 | b3DataAge | вещественное число | сек | >= 0 | 
| 16 | b4Lat | вещественное число | ° | -90 .. 90 |
| 17 | b4Lon | вещественное число | ° | -180 .. 180 |
| 18 | b4BatState | логическое значение | | true, false |
| 19 | b4DataAge | вещественное число | сек | >= 0 | 
| 20 | tLat | вещественное число | ° | -90 .. 90 |
| 21 | tLon | вещественное число | ° | -180 .. 180 |
| 22 | tDpt | вещественное число | ° | |
| 23 | tRErr | вещественное число | ° | >= 0 |
| 24 | tFixAge | вещественное число | ° | >= 0 |
| 25 | tCourseEstimated | вещественное число | ° | 0 .. 360 |
| 26 | tDistance | вещественное число | ° | >= 0 |
| 27 | tFwdAzimuth | вещественное число | ° | 0 .. 360 |
| 28 | tRevAzimuth | вещественное число | ° | 0 .. 360 |
| 29 | DOPState | перечисляемый тип | | |
| 30 | TBAState | перечисляемый тип | | |
| 31 | DOPTBAStateAge | вещественное число | ° | >= 0 |











<div style="page-break-after: always;"></div>
