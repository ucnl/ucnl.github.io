| ![logo](/documentation/sm_logo.png) |  |
| :---: | ---: |
| [www.unavlab.com](https://www.unavlab.com/) <br/> [support@unavlab.com](mailto:support@unavlab.com) | **RedWAVE** - гидроакустическая навигационная система <br/> ПО RedNAV Host: Руководство пользователя |


# ПО RedNAV Host: <br/> Руководство пользователя

<div style="page-break-after: always;"></div>

## Содержание

- [1. Введение](#1-%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5)
- [2. Создание Bluetooth-соединения с ПК](#2-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-bluetooth-%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D1%81-%D0%BF%D0%BA)
- [3. Работа с ПО](#3-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BF%D0%BE)

<div style="page-break-after: always;"></div>

## 1. Введение
Настоящая инструкция описывает процесс подключения водолазного навигационного приемника [RedNAV](RedNAV_Specification_ru.md) к ПК.
Системные требования к ПК для подключения устройства:
- OC **Windows 10** с установленной **.NET Frameworks 4.5**
- **Bluetooth**-модуль

## 2. Создание Bluetooth-соединения с ПК
На ПК должен быть включен Bluetooth-адаптер, водолазный навигационный приемник [RedNAV](RedNAV_Specification_ru.md) установлен на подключенную к питания зарядную площадку.
Ниже приведена последовательность действий для создания Bluetooth-соединения на примере ПК с установленной ОС Windows 10.

1. Открыть меню **Пуск -> Параметры -> Устройства**
2. Убедиться что переключатель **Bluetooth** находится в положении **Вкл.**
3. Нажать кнопку **+ Добавление Bluetooth или другого устройства**

После того, как система обнаружит новое устройство, оно будет отображено в списке, как на **рисунке 1**.

| |
| :---: |
| ![Fig. 1](/documentation/rdnvhost1.png)|
| **Рисунок 1 - Результат поиска новых устройств** |

На **рисунке 1** В списке отображается имя устройства, которое видно на экране самого устройства (в примере **RDNV-4B8C**). Далее, при нажатии кнопки **Связать**, система предложить ввести пин-код (показано на **рисунке 2**).

| |
| :---: |
| ![Fig. 2](/documentation/rdnvhost2.png)|
| **Рисунок 2 - Диалог ввода пин-кода** |

На экране устройства отображается пин-код, который требуется ввести для создания связи с устройством (**1945** в примере). После ввода пин-кода и нажатия кнопки **Далее** отобразится окно, как на **рисунке 3**.

| |
| :---: |
| ![Fig. 3](/documentation/rdnvhost3.png)|
| **Рисунок 3 - Создание связи с устройством** |

Дождитесь создания связи с устройством. После чего окно диалога должно выглядеть так как на **рисунке 4**. 	Статус устройства: **Подключено**.

| |
| :---: |
| ![Fig. 4](/documentation/rdnvhost4.png)|
| **Рисунок 4 - Устройство подключено** |

На данном этапе установлена связь с устройством. 

## 3. Работа с ПО
После подключения устройства согласно [п. 2.](#2-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-bluetooth-%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D1%81-%D0%BF%D0%BA), можно запустить приложение [RedNAV Host](https://api.github.com/repos/ucnl/RedNavHost/zipball) и оно само установит соединение с устройством. При успешном подключении в окне приложения в статусной строке отобразится статус "Подключено", что проиллюстрировано на **рисунке 5**. В заголовке окна появится имя устройства (в примере **RDNV-4B8C**).  

В верхних строках отображается информация о версии устройства и его серийный номер. Ниже отображается информация о версии навигационного приемника и его серийный номер. Эта информация доступна только если устройство было переведено в сервисный режим из включенного состояния, а не установлено на зарядную площадку выключенное.

| |
| :---: |
| ![Fig. 5](/documentation/rdnvhost5.png)|
| **Рисунок 5 - Главное окно приложения RedNAV Host** |
| _Устройство подключено и с ним установлена связь_ |

После подключения пользователю доступно изменение настроек. Водолазный навигационный приемник имеет минимальное количество настроек. 
В частности для правильной работы требуется только задание солености воды. 

Если работа планируется в пресных водоемах, то рекомендуется оставить значение по умолчанию - **0 PSU**. Для удобства, приложение содержит базу данных соленостей мирового океана для точек с шагом **1˚** по широте и долготе. 

Для поиска солености водоема требуется ввести географические координаты места в диалоге, вызываемом ссылкой **Найти в базе**, главного окна приложения. 

На **рисунке 6** показан вид этого диалога. После ввода координат места (достаточно с точностью до градуса) и нажатия кнопки **Найти**, будет отображено значение солености в ближайшей известной точке с измеренной соленостью. 

| |
| :---: |
| ![Fig. 6](/documentation/rdnvhost6.png)|
| **Рисунок 6 - Диалог задания значения солености воды** |

При нажатии кнопки **ОК** найденное значение будет помещено в настроечное поле главного окна. 

Дополнительно есть возможность настроить переворот экрана устройства с одновременным обменом функций кнопок. Данная функция предназначена для обеспечения возможности крепления устройства на правую руку. 
Для задействования этой функции требуется установить галочку **Переворот экрана** в главном окне приложения.

Для загрузки настроек в устройство требуется нажать кнопку **Сохранить** (см. **рисунок 5**).
Для выгрузки, записанного устройством трека, положений буев и сохраненных точек служит кнопка **Выгрузить** (см. **рисунок 5**). 
Данная ситуация проиллюстрирована на **рисунке 7**.

| |
| :---: |
| ![Fig. 7](/documentation/rdnvhost7.png)|
| **Рисунок 7 - Выгрузка трека** |

После нажатия кнопки **Выгрузить**, на время выгрузки трека из устройства, остальные кнопки станут недоступны, а в строке статуса приложения будет отображаться ход операции.

После окончания выгрузки приложение предложит сохранить выгруженные данные при помощи стандартного системного диалога. При этом в качестве имени файла будет предложено имя, составленное из текущего системного времени и даты, что иллюстрирует **рисунок 8**.
Приложение позволяет сохранить трек в формате **Keyhole Markup Language (KML)**. Трек затем может быть импортирован в картографическое ПО (например, Google Earth).

| |
| :---: |
| ![Fig. 8](/documentation/rdnvhost8.png)|
| **Рисунок 8 - Диалог сохранения трека** | 

После сохранения данных приложение спросит пользователя нужно ли очистить трек из устройства. 

> ВНИМАНИЕ! После очистки трека из устройства восстановить трек будет невозможно. Совсем.

Работа с путевыми точками происходит при помощи контекстного меню, вызываемого при помощи правой кнопки мыши на группе **Путевые точки**, что показано на **рисунке 9**.

| |
| :---: |
| ![Fig. 9](/documentation/rdnvhost9.png)|
| **Рисунок 9 - Работа с путевыми точками** |

Добавленные вручную точки можно редактировать при помощи появляющейся панели справа при выделенной добавленной точке (см. **рисунок 10**).

| |
| :---: |
| ![Fig. 10](/documentation/rdnvhost10.png)|
| **Рисунок 10 - Редактирование добавленной путевой точки** |

Для синхронизации списка на панели **Путевые точки** с устройством необходимо нажать кнопку **Загрузить в устройство**. Для очистки всех путевых точек в устройстве необходимо удалить их в списке, а затем нажать кнопку **Загрузить в устройство** и на запрос приложения ответить утвердительно.

______________
[Вернуться к содержанию](#%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5)
 


